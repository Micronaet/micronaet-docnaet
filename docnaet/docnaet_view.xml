<?xml version="1.0"?>
<openerp>
    <data>
    <!--docnaet.protocol.template.language--> 
    <record model="ir.ui.view" id="view_docnaet_protocol_template_program_form">
        <field name="name">Docnaet program</field>
        <field name="model">docnaet.protocol.template.program</field>
        <field name="arch" type="xml">
            <form string="Docnaet program" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                        <field name="name" colspan="4"/>
                        <field name="extension" />
                        <separator string="Note" colspan="4"/>
                        <field name="note" colspan="4" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="view_docnaet_protocol_template_program_tree">
        <field name="name">Docnaet program</field>
        <field name="model">docnaet.protocol.template.program</field>
        <field name="arch" type="xml">
            <tree string="Docnaet program">
                <field name="name" />
                <field name="extension" />
                <field name="note" />
            </tree>
        </field>
    </record>    

    <!--docnaet.protocol.template--> 
    <record model="ir.ui.view" id="view_docnaet_protocol_template_form">
        <field name="name">Docnaet protocol template</field>
        <field name="model">docnaet.protocol.template</field>
        <field name="arch" type="xml">
            <form string="Docnaet protocol template" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                        <field name="lang_id" />
                        <field name="program_id" />
                        <field name="protocol_id" invisible="context.get('embedded', False)"/>
                        <separator string="Note" colspan="4"/>
                        <field name="note" colspan="4" nolabel="1"/>
                        <!--TODO button for create or open document-->
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="view_docnaet_protocol_template_tree">
        <field name="name">Docnaet protocol template</field>
        <field name="model">docnaet.protocol.template</field>
        <field name="arch" type="xml">
            <tree string="Docnaet protocol template">
                <field name="protocol_id" invisible="context.get('embedded', False)"/>
                <field name="lang_id" />
                <field name="program_id" />
                <field name="note" />
            </tree>
        </field>
    </record>

    <!--docnaet.protocol--> 
    <record model="ir.ui.view" id="view_docnaet_protocol_form">
        <field name="name">Docnaet protocol</field>
        <field name="model">docnaet.protocol</field>
        <field name="arch" type="xml">
            <form string="Docnaet protocol" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                        <field name="name" />
                        <field name="next" />
                        <separator string="Template" colspan="4"/>
                        <field name="template_ids" colspan="4" nolabel="1" context="{'embedded':True}"/>
                        <separator string="Note" colspan="4"/>
                        <field name="note" colspan="4" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="view_docnaet_protocol_tree">
        <field name="name">Docnaet protocol</field>
        <field name="model">docnaet.protocol</field>
        <field name="arch" type="xml">
            <tree string="Docnaet protocol">
                <field name="name" />
                <field name="next" />
                <field name="note" />
            </tree>
        </field>
    </record>

    <record model="ir.actions.act_window" id="action_docnaet_protocol">
        <field name="name">Docnaet protocol</field>
        <field name="res_model">docnaet.protocol</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_docnaet_protocol_tree"/>
    </record>

    <!--docnaet.type--> 
    <record model="ir.ui.view" id="view_docnaet_type_form">
        <field name="name">Docnaet type</field>
        <field name="model">docnaet.type</field>
        <field name="arch" type="xml">
            <form string="Docnaet type" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                        <field name="name" colspan="4"/>
                        <separator string="Note" colspan="4"/>
                        <field name="note" colspan="4" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="view_docnaet_type_tree">
        <field name="name">Docnaet type</field>
        <field name="model">docnaet.type</field>
        <field name="arch" type="xml">
            <tree string="Docnaet type">
                <field name="name" />
                <field name="note" />
            </tree>
        </field>
    </record>    

    <record model="ir.actions.act_window" id="action_docnaet_type">
        <field name="name">Docnaet type</field>
        <field name="res_model">docnaet.type</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_docnaet_type_tree"/>
    </record>

    <!--docnaet.language--> 
    <record model="ir.ui.view" id="view_docnaet_language_form">
        <field name="name">Docnaet language</field>
        <field name="model">docnaet.language</field>
        <field name="arch" type="xml">
            <form string="Docnaet language" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                        <field name="name" colspan="4"/>
                        <field name="code" />
                        <field name="iso_code" />
                        <separator string="Note" colspan="4"/>
                        <field name="note" colspan="4" nolabel="1"/>
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="view_docnaet_language_tree">
        <field name="name">Docnaet language</field>
        <field name="model">docnaet.language</field>
        <field name="arch" type="xml">
            <tree string="Docnaet language">
                <field name="name" />
                <field name="code" />
                <field name="iso_code" />
                <field name="note" />
            </tree>
        </field>
    </record>    

    <record model="ir.actions.act_window" id="action_docnaet_language">
        <field name="name">Docnaet language</field>
        <field name="res_model">docnaet.language</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_docnaet_language_tree"/>
    </record>
    
    <!--res.users--> 
    <!--for docnaet admin:--> 
    <record model="ir.ui.view" id="res_users_form_docnaet_view">
        <field name="name">User Docnaet</field>
        <field name="model">res.users</field>
        <field name="priority" eval="20"/>
        <field name="arch" type="xml">
            <form string="User docnaet" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                       <field name="name" readonly="1" />
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="res_users_tree_docnaet_view">
        <field name="name">User Docnaet</field>
        <field name="model">res.users</field>
        <field name="priority" eval="20"/>
        <field name="arch" type="xml">
            <tree string="User docnaet" create="0">
                <field name="name" readonly="1" />
            </tree>
        </field>
    </record>    

    <record model="ir.actions.act_window" id="action_docnaet_users_form">
        <field name="name">User</field>
        <field name="res_model">res.users</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="res_users_tree_docnaet_view"/>
        <field name="context">{'form_view_ref':'docnaet.res_users_form_docnaet_view'}</field>
    </record>
    
    <!--res.company--> 
    <record model="ir.ui.view" id="res_company_form_view">
        <field name="name">Company Docnaet</field>
        <field name="model">res.company</field>
        <field name="inherit_id" ref="base.view_company_form" />
        <field name="arch" type="xml">
            <xpath expr="/form/sheet/notebook/page[@string='General Information']" position="after">
			    <page string="Docnaet">
			        <group colspan="4" col="4">
			           <field name="docnaet_path"/>
			        </group>
			    </page>                
            </xpath>
        </field>
    </record>    

    <!--for docnaet admin:--> 
    <record model="ir.ui.view" id="res_company_form_docnaet_view">
        <field name="name">Company Docnaet</field>
        <field name="model">res.company</field>
        <field name="priority" eval="20"/>
        <field name="arch" type="xml">
            <form string="Company docnaet" version="7.0">
                <sheet>
                    <group colspan="4" col="4">
                       <field name="name" readonly="1" />
			           <field name="docnaet_path"/>                        
                    </group>
                </sheet>
            </form>
        </field>
    </record>    

    <record model="ir.ui.view" id="res_company_tree_docnaet_view">
        <field name="name">Company Docnaet</field>
        <field name="model">res.company</field>
        <field name="priority" eval="20"/>
        <field name="arch" type="xml">
            <tree string="Company docnaet" create="0">
                <field name="name" readonly="1" />
  	            <field name="docnaet_path"/>                        
            </tree>
        </field>
    </record>    
    
    <record model="ir.actions.act_window" id="action_docnaet_company_form">
        <field name="name">Company</field>
        <field name="res_model">res.company</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="res_company_tree_docnaet_view"/>
        <field name="context">{'form_view_ref':'docnaet.res_company_form_docnaet_view'}</field>
    </record>
    
    <!--docnaet.document--> 
    <record model="ir.ui.view" id="docnaet_document_tree_view">
        <field name="name">Docnaet document</field>
        <field name="model">docnaet.document</field>        
        <field name="arch" type="xml">
            <tree string="Docnaet document">
               <field name="name" />
               <field name="protocol_id" />
               <field name="number" />
               <field name="type_id" />
               <field name="language_id" />
               <field name="date" />
               <field name="deadline" />
               <field name="user_id" />
               <field name="partner_id" />
               <field name="docnaet_extension" />
               <button type="object" name="button_call_url_docnaet" string="Docnaet" icon="gtk-file"/>

               <!--draft-->
               <button name="document_draft_confirmed" string="Confirmed" type="workflow" states="draft" icon="gtk-apply"/>
               <button name="document_draft_suspended" string="Suspended" type="workflow" states="draft" icon="terp-calendar"/>
               <button name="document_draft_timed" string="Timed" type="workflow" states="draft" icon="terp-go-today"/>
               <button name="document_draft_cancel" string="Cancel" type="workflow" states="draft" icon="gtk-cancel"/>

               <!--confirmed-->
               <button name="document_confirmed_suspended" string="Suspended" type="workflow" states="confirmed" icon="terp-calendar"/>
               <button name="document_confirmed_timed" string="Timed" type="workflow" states="confirmed" icon="terp-go-today"/>
               <button name="document_confirmed_cancel" string="Cancel" type="workflow" states="confirmed" icon="gtk-cancel"/>

               <!--suspended-->
               <button name="document_suspended_confirmed" string="Confirmed" type="workflow" states="suspended" icon="gtk-apply"/>
               <button name="document_suspended_cancel" string="Cancel" type="workflow" states="suspended" icon="gtk-cancel"/>

               <!--timed-->
               <button name="document_timed_confirmed" string="Confirmed" type="workflow" states="timed" icon="gtk-apply"/>
               <button name="document_timed_cancel" string="Cancel" type="workflow" states="timed" icon="gtk-cancel"/>

               <field name="state" />
            </tree>
        </field>
    </record>    
    <record model="ir.ui.view" id="docnaet_document_form_view">
        <field name="name">Docnaet document</field>
        <field name="model">docnaet.document</field>        
        <field name="arch" type="xml">
            <form string="Docnaet document" version="7.0">
               <head> 
                   <!--draft-->
                   <button name="document_draft_confirmed" string="Confirmed" type="workflow" states="draft" icon="gtk-apply"/>
                   <button name="document_draft_suspended" string="Suspended" type="workflow" states="draft" icon="terp-calendar"/>
                   <button name="document_draft_timed" string="Timed" type="workflow" states="draft" icon="terp-go-today"/>
                   <button name="document_draft_cancel" string="Cancel" type="workflow" states="draft" icon="gtk-cancel"/>

                   <!--confirmed-->
                   <button name="document_confirmed_suspended" string="Suspended" type="workflow" states="confirmed" icon="terp-calendar"/>
                   <button name="document_confirmed_timed" string="Timed" type="workflow" states="confirmed" icon="terp-go-today"/>
                   <button name="document_confirmed_cancel" string="Cancel" type="workflow" states="confirmed" icon="gtk-cancel"/>

                   <!--suspended-->
                   <button name="document_suspended_confirmed" string="Confirmed" type="workflow" states="suspended" icon="gtk-apply"/>
                   <button name="document_suspended_cancel" string="Cancel" type="workflow" states="suspended" icon="gtk-cancel"/>

                   <!--timed-->
                   <button name="document_timed_confirmed" string="Confirmed" type="workflow" states="timed" icon="gtk-apply"/>
                   <button name="document_timed_cancel" string="Cancel" type="workflow" states="timed" icon="gtk-cancel"/>

                   <field name="state" widget="statusbar" statusbar_visible="draft,suspended,timed,confirmed,cancel" readonly="1" />
               </head>
               <sheet>               
                  <group colspan="4" col="4"> 
                       <button type="object" name="button_call_url_docnaet" string="Docnaet" class="oe_highlight"/>
                       <button type="object" name="button_assign_fax_number" string="Assign fax" attrs="{'invisible':[('fax_number','=',True)]}"/>
                       <newline />
                       
                       <field name="name" colspan="4"/>

                       <field name="protocol_id" />
                       <field name="number" />

                       <field name="fax_number" />
                       <newline />

                       <field name="date" />
                       <field name="deadline" />

                       <field name="type_id" />
                       <field name="language_id" />

                       <field name="user_id" />
                       <field name="partner_id" />

                       <field name="company_id" />
                       <field name="docnaet_extension" />

                       <separator string="Description" colspan="4"/>
                       <field name="description" />

                       <separator string="Note" colspan="4"/>
                       <field name="note" />                       

                    </group>   
                </sheet>   
            </form>
        </field>
    </record>    
    <record model="ir.ui.view" id="docnaet_document_calendar_view">
        <field name="name">docnaet.document.calendar</field>
        <field name="model">docnaet.document</field>
        <field name="type">calendar</field>
        <field name="priority" eval="10"/>
        <field name="arch" type="xml">
            <calendar color="protocol_id" date_start="deadline" string="Document deadline">
                <field name="name"/>
                <field name="partner_id"/>
            </calendar>
        </field>
    </record>
    <record model="ir.actions.act_window" id="action_docnaet_deadline_document_tree">
        <field name="name">My documents deadline</field>
        <field name="res_model">docnaet.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="docnaet_document_calendar_view"/>
        <field name="context">{}</field>
        <field name="domain">[('user_id','=',uid)]</field>
    </record>
    <record model="ir.actions.act_window" id="action_docnaet_my_document_tree">
        <field name="name">My Documents</field>
        <field name="res_model">docnaet.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="docnaet_document_tree_view"/>
        <field name="context">{}</field>
        <field name="domain">[('user_id','=',uid)]</field>
    </record>
    <record model="ir.actions.act_window" id="action_docnaet_document_tree">
        <field name="name">Documents</field>
        <field name="res_model">docnaet.document</field>
        <field name="view_type">form</field>
        <field name="view_mode">tree,form,calendar</field>
        <field name="view_id" ref="docnaet_document_tree_view"/>
        <field name="context">{}</field>
        <field name="domain">[]</field>
    </record>
    
    <menuitem id="docnaet_root" name="Docnaet" sequence="20" groups="group_docnaet_user,group_docnaet_admin,group_docnaet_agent"/>

        <menuitem parent="docnaet_root" id="docnaet_document" name="Document" sequence="20" />
            <menuitem parent="docnaet_document" id="docnaet_document_my_document" name="My document" sequence="10" action="action_docnaet_my_document_tree"/>
            <menuitem parent="docnaet_document" id="docnaet_document_deadline" name="Deadline" sequence="20" action="action_docnaet_deadline_document_tree" />            
            <menuitem parent="docnaet_document" id="docnaet_document_document" name="Document" sequence="30" action="action_docnaet_document_tree" />            

        <menuitem parent="docnaet_root" id="docnaet_administration" name="Administration" sequence="90" groups="group_docnaet_admin"/>
            <menuitem parent="docnaet_administration" id="docnaet_administration_company" string="Company" sequence="1" action="action_docnaet_company_form" />
            <menuitem parent="docnaet_administration" id="docnaet_administration_user" string="User" sequence="5" action="action_docnaet_users_form" />
            <menuitem parent="docnaet_administration" id="docnaet_administration_protocol" name="Protocol" sequence="10" action="action_docnaet_protocol"/>
            <menuitem parent="docnaet_administration" id="docnaet_administration_type" name="Tipology" sequence="20" action="action_docnaet_type" />
            <menuitem parent="docnaet_administration" id="docnaet_administration_language" name="Language" sequence="30" action="action_docnaet_language" />
    
    </data>    
</openerp>    
    
